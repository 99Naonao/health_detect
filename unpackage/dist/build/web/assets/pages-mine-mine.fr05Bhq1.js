import{u as t,s,h as i,b as e,n as a,ah as r,a3 as p,a8 as o,a4 as c,r as l,H as n,i as u,w as h,j as x,o as m,k as d,l as A,t as k,J as b,q as f,v as g}from"./index-CRXElb8Q.js";import{_ as y}from"./tabbar.CbovEzbB.js";import{r as v}from"./uni-app.es.CUgL-p8m.js";import{s as _}from"./seriousEchart.DtgP3j4d.js";import{_ as j}from"./JK_02_IconJF2.DsU4VPp8.js";import{_ as I}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./index.QLh0gCRz.js";const C=I({data:()=>({xAxis:[],active:0,temp:{},source:{},hasLogin:!1,measurement:"",measurementId:0,score:0,userInfoT:{}}),setup(){const i=t(),{userInfo:e,measureToken:a}=s(i);return console.log("setupuserinfo:",e),{userInfo:e,measureToken:a}},components:{tabbar:y,seriousEchart:_},onLoad(){i()},onShow(){this.updateData(this.active+1),this.Usercentre()},methods:{Usercentre(){e().then((t=>{console.log("res.999",t),this.userInfoT=t}))},measureHandler(){a({url:"/pages/mine/history"})},clickWxLogin(){r()},go2Use(){},itemChange(t){this.active=t,p({title:"请求中"}),this.updateData(this.active+1)},updateData(t){o({type:t}).then((t=>{let s,i;for(var e in c(),console.log("12345getHistoryData:",t),this.xAxis=[],this.reset(),t)if(s=t[e],this.xAxis.push(s.localDate),s.content){i=JSON.parse(s.content);try{this.filter(i)}catch(a){console.log("eee:",a)}}else this.allAddZero();this.$nextTick((()=>{this.setData()}))})).catch((t=>{}))},allAddZero(){this.temp.hrbpm.push(null),this.temp.hrv.push(null),this.temp.bmi.push(null),this.temp.age.push(null),this.temp.bpsystolic.push(null),this.temp.bpdiastolic.push(null),this.temp.spo2hreport.push(null),this.temp.bpheartattack.push(null),this.temp.bpstroke.push(null),this.temp.bpcvd.push(null),this.temp.bppp.push(null),this.temp.bptau.push(null),this.temp.aggressivityreport.push(null),this.temp.anxietyreport.push(null),this.temp.vitalityreport.push(null),this.temp.suppressionreport.push(null),this.temp.fatiguereport.push(null),this.temp.msireport.push(null)},setData(){Object.assign(this.source,this.temp)},reset(){this.temp={},this.temp.hrbpm=[],this.temp.hrv=[],this.temp.bmi=[],this.temp.age=[],this.temp.bpsystolic=[],this.temp.bpdiastolic=[],this.temp.spo2hreport=[],this.temp.bpheartattack=[],this.temp.bpstroke=[],this.temp.bpcvd=[],this.temp.bppp=[],this.temp.bptau=[],this.temp.aggressivityreport=[],this.temp.anxietyreport=[],this.temp.vitalityreport=[],this.temp.suppressionreport=[],this.temp.fatiguereport=[],this.temp.msireport=[],this.source={},Object.assign(this.source,this.temp)},filter(t){console.log("filter:",t);const{physiologyscorereport:s,afreport:i,bpreport:e,essentialreport:a,healthScoreReport:r,hrreport:p,riskreport:o,emotionscorereport:c,fatiguereport:l,suppressionreport:n,vitalityreport:u,anxietyreport:h,aggressivityreport:x,msireport:m,spo2hreport:d,calculatedReport:A}=t;p&&(this.temp.hrbpm.push(p.data.hrbpm?p.data.hrbpm:0),this.temp.hrv.push(p.data.hrv?p.data.hrv:0)),a&&(this.temp.bmi.push(a.data.bmi?a.data.bmi:0),this.temp.age.push(a.data.age?a.data.age:0)),e&&(this.temp.bpdiastolic.push(e.data.bpdiastolic?e.data.bpdiastolic:0),this.temp.bpsystolic.push(e.data.bpsystolic?e.data.bpsystolic:0)),d&&this.temp.spo2hreport.push(d.data?d.data:0),o&&(this.temp.bpheartattack.push(o.data.bpheartattack?o.data.bpheartattack:0),this.temp.bpstroke.push(o.data.bpstroke?o.data.bpstroke:0),this.temp.bpcvd.push(o.data.bpcvd?o.data.bpcvd:0),this.temp.bppp.push(o.data.bppp?o.data.bppp:0),this.temp.bptau.push(o.data.bptau?o.data.bptau:0)),x&&this.temp.aggressivityreport.push(x.data?x.data:0),h&&this.temp.anxietyreport.push(h.data?h.data:0),u&&this.temp.vitalityreport.push(u.data?u.data:0),n&&this.temp.suppressionreport.push(n.data?n.data:0),l&&this.temp.fatiguereport.push(l.data?l.data:0),m&&this.temp.msireport.push(m.data?m.data:0)}}},[["render",function(t,s,i,e,a,r){const p=v(l("tabbar"),y),o=f,c=x,_=g,I=n("serious-echart");return m(),u(c,null,{default:h((()=>[d(p,{current:"2"}),d(c,{class:"container"},{default:h((()=>[d(c,{class:"info"},{default:h((()=>[d(c,{class:"t_c"},{default:h((()=>[d(c,{class:"user_info"},{default:h((()=>[d(c,{class:"top_info"},{default:h((()=>[d(c,{class:"avatar_bg flex align-center just-align-center"},{default:h((()=>[e.userInfo.avatar?(m(),u(o,{key:0,class:"avatar",src:e.userInfo.avatar||"/static/default-avatar.png"},null,8,["src"])):(m(),u(o,{key:1,class:"avatar",src:t.avatar||"/static/default-avatar.png",onClick:r.clickWxLogin},null,8,["src","onClick"]))])),_:1}),d(c,{class:"usernameInfo"},{default:h((()=>[d(c,{class:"username"},{default:h((()=>[d(_,null,{default:h((()=>[A(k(a.userInfoT.nickname?e.userInfo.nickname:"未知用户"),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),d(c,{class:"score_part"},{default:h((()=>[d(c,{class:"score_info"},{default:h((()=>[d(c,{class:"sub_score_info"},{default:h((()=>[d(c,null,{default:h((()=>[d(_,{class:"score-tip"},{default:h((()=>[A("我的积分")])),_:1}),d(o,{mode:"widthFix",class:"icon1",src:j})])),_:1})])),_:1}),d(c,{class:"score_txt"},{default:h((()=>[A(k(a.userInfoT.user_integral?a.userInfoT.user_integral:0),1)])),_:1})])),_:1})])),_:1}),d(c,{class:"switch-list"},{default:h((()=>[d(c,{class:"flex just-align-center align-center",style:{"justify-content":"space-around"}},{default:h((()=>[d(c,{class:b(0==a.active?"item active":"item"),onClick:s[0]||(s[0]=t=>r.itemChange(0))},{default:h((()=>[A(" 周 ")])),_:1},8,["class"]),d(c,{class:b(1==a.active?"item active":"item"),onClick:s[1]||(s[1]=t=>r.itemChange(1))},{default:h((()=>[A(" 月 ")])),_:1},8,["class"]),d(c,{class:b(2==a.active?"item active":"item"),onClick:s[2]||(s[2]=t=>r.itemChange(2))},{default:h((()=>[A(" 年 ")])),_:1},8,["class"])])),_:1})])),_:1})])),_:1})])),_:1}),d(c,{class:"echart-part",style:{"padding-bottom":"150rpx"}},{default:h((()=>[d(c,{style:{"padding-top":"15rpx"}}),d(I,{xAxis:a.xAxis,yAxis:[0,100],ticks:a.source.age,icon:"icon-skin",title:"皮肤年龄"},null,8,["xAxis","ticks"]),d(I,{xAxis:a.xAxis,yAxis:[15,40],ticks:a.source.bmi,icon:"icon-weight",title:"体重指数"},null,8,["xAxis","ticks"]),d(I,{yAxis:[40,160],xAxis:a.xAxis,ticks:a.source.hrbpm,icon:"icon-heart",title:"心率"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,300],xAxis:a.xAxis,ticks:a.source.hrv,icon:"icon-heart-change",title:"心率变异性"},null,8,["xAxis","ticks"]),d(I,{yAxis:[50,100],xAxis:a.xAxis,ticks:a.source.bpdiastolic,icon:"icon-press",title:"舒张压"},null,8,["xAxis","ticks"]),d(I,{yAxis:[70,170],xAxis:a.xAxis,ticks:a.source.bpsystolic,icon:"icon-up",title:"收缩压"},null,8,["xAxis","ticks"]),d(I,{yAxis:[60,100],xAxis:a.xAxis,ticks:a.source.spo2hreport,icon:"icon-ox",title:"血氧饱和度"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,7.5],xAxis:a.xAxis,ticks:a.source.bpheartattack,icon:"icon-risk",title:"心脏病风险"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,7.5],xAxis:a.xAxis,ticks:a.source.bpstroke,icon:"icon-zrisk",title:"中风风险"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,15],xAxis:a.xAxis,ticks:a.source.bpcvd,icon:"icon-xxgrisk",title:"心血管病风险"},null,8,["xAxis","ticks"]),d(I,{yAxis:[3.5,4.5],xAxis:a.xAxis,ticks:a.source.bppp,icon:"icon-xxylrisk",title:"心脏压力"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,3],xAxis:a.xAxis,ticks:a.source.bptau,icon:"icon-xgrisk",title:"血管功能"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,100],xAxis:a.xAxis,ticks:a.source.aggressivityreport,icon:"icon-attack",title:"进取性"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,100],xAxis:a.xAxis,ticks:a.source.anxietyreport,icon:"icon-jiaolv",title:"焦虑度"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,100],xAxis:a.xAxis,ticks:a.source.vitalityreport,icon:"icon-huoli",title:"活力度"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,100],xAxis:a.xAxis,ticks:a.source.suppressionreport,icon:"icon-yiyu",title:"抑郁度"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,100],xAxis:a.xAxis,ticks:a.source.fatiguereport,icon:"icon-pilao",title:"疲劳度"},null,8,["xAxis","ticks"]),d(I,{yAxis:[0,100],xAxis:a.xAxis,ticks:a.source.msireport,icon:"icon-yali",title:"压力度"},null,8,["xAxis","ticks"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-fe723a4f"]]);export{C as default};
