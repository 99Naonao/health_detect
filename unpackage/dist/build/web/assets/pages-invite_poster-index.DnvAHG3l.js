import{o as t,i as e,w as s,K as i,$ as r,I as o,p as a,j as n,r as h,k as l,m as p,L as c,N as d,R as g,Q as f,S as m,T as u,g as x,Y as b,E as w,z as y,n as v,a0 as T,a1 as k,H as S,l as O,v as R,q as C}from"./index-BNfv6lMe.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{r as P}from"./uni-app.es.CkiiJYsC.js";import{i as B}from"./index.BdQ0JTuP.js";const I=j({name:"uniTransition",props:{show:{type:Boolean,default:!1},modeClass:{type:Array,default:()=>[]},duration:{type:Number,default:300},styles:{type:Object,default:()=>({})}},data:()=>({isShow:!1,transform:"",ani:{in:"",active:""}}),watch:{show:{handler(t){t?this.open():this.close()},immediate:!0}},computed:{stylesObject(){let t={...this.styles,"transition-duration":this.duration/1e3+"s"},e="";for(let s in t){e+=this.toLine(s)+":"+t[s]+";"}return e}},created(){},methods:{change(){this.$emit("click",{detail:this.isShow})},open(){clearTimeout(this.timer),this.isShow=!0,this.transform="",this.ani.in="";for(let t in this.getTranfrom(!1))"opacity"===t?this.ani.in="fade-in":this.transform+=`${this.getTranfrom(!1)[t]} `;this.$nextTick((()=>{setTimeout((()=>{this._animation(!0)}),50)}))},close(t){clearTimeout(this.timer),this._animation(!1)},_animation(t){let e=this.getTranfrom(t);this.transform="";for(let s in e)"opacity"===s?this.ani.in="fade-"+(t?"out":"in"):this.transform+=`${e[s]} `;this.timer=setTimeout((()=>{t||(this.isShow=!1),this.$emit("change",{detail:this.isShow})}),this.duration)},getTranfrom(t){let e={transform:""};return this.modeClass.forEach((s=>{switch(s){case"fade":e.opacity=t?1:0;break;case"slide-top":e.transform+=`translateY(${t?"0":"-100%"}) `;break;case"slide-right":e.transform+=`translateX(${t?"0":"100%"}) `;break;case"slide-bottom":e.transform+=`translateY(${t?"0":"100%"}) `;break;case"slide-left":e.transform+=`translateX(${t?"0":"-100%"}) `;break;case"zoom-in":e.transform+=`scale(${t?1:.8}) `;break;case"zoom-out":e.transform+=`scale(${t?1:1.2}) `}})),e},_modeClassArr(t){let e=this.modeClass;if("string"!=typeof e){let s="";return e.forEach((e=>{s+=e+"-"+t+","})),s.substr(0,s.length-1)}return e+"-"+t},toLine:t=>t.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(h,l,p,c,d,g){const f=n;return d.isShow?(t(),e(f,{key:0,ref:"ani",class:r(["uni-transition",[d.ani.in]]),style:o("transform:"+d.transform+";"+g.stylesObject),onClick:g.change},{default:s((()=>[i(h.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onClick"])):a("",!0)}],["__scopeId","data-v-05ab11fe"]]),M={top:"top",bottom:"bottom",center:"center",message:"top",dialog:"center",share:"bottom"},$={data:()=>({config:M}),mixins:[{created(){"message"===this.type&&(this.maskShow=!1,this.childrenMsg=null)},methods:{customOpen(){this.childrenMsg&&this.childrenMsg.open()},customClose(){this.childrenMsg&&this.childrenMsg.close()}}}]};const F=j({name:"UniPopup",components:{uniTransition:I},props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0}},provide(){return{popup:this}},mixins:[$],watch:{type:{handler:function(t){this[this.config[t]]()},immediate:!0},maskClick(t){this.mkclick=t}},data:()=>({duration:300,ani:[],showPopup:!1,showTrans:!1,maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}),created(){this.mkclick=this.maskClick,this.animation?this.duration=300:this.duration=0},methods:{clear(t){t.stopPropagation()},open(){this.showPopup=!0,this.$nextTick((()=>{new Promise((t=>{clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showTrans=!0,this.$nextTick((()=>{t()}))}),50)})).then((t=>{clearTimeout(this.msgtimer),this.msgtimer=setTimeout((()=>{this.customOpen&&this.customOpen()}),100),this.$emit("change",{show:!0,type:this.type})}))}))},close(t){this.showTrans=!1,this.$nextTick((()=>{this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.customOpen&&this.customClose(),this.timer=setTimeout((()=>{this.showPopup=!1}),300)}))},onTap(){this.mkclick&&this.close()},top(){this.popupstyle="top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0}},bottom(){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0}},center(){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"}}}},[["render",function(o,c,d,g,f,m){const u=P(h("uni-transition"),I),x=n;return f.showPopup?(t(),e(x,{key:0,class:r(["uni-popup",[f.popupstyle]]),onTouchmove:p(m.clear,["stop","prevent"])},{default:s((()=>[f.maskShow?(t(),e(u,{key:0,"mode-class":["fade"],styles:f.maskClass,duration:f.duration,show:f.showTrans,onClick:m.onTap},null,8,["styles","duration","show","onClick"])):a("",!0),l(u,{"mode-class":f.ani,styles:f.transClass,duration:f.duration,show:f.showTrans,onClick:m.onTap},{default:s((()=>[l(x,{class:"uni-popup__wrapper-box",onClick:p(m.clear,["stop"])},{default:s((()=>[i(o.$slots,"default",{},void 0,!0)])),_:3},8,["onClick"])])),_:3},8,["mode-class","styles","duration","show","onClick"])])),_:3},8,["class","onTouchmove"])):a("",!0)}],["__scopeId","data-v-dcf075f0"]]),L=c().windowWidth/750;let H={};function W(t){return/^-?\d+(\.\d+)?$/.test(t)}function _(t,e){if("number"==typeof t)return t;if(W(t))return 1*t;if("string"==typeof t){const s=/^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g.exec(t);if(!t||!s)return 0;const i=s[3];t=parseFloat(t);let r=0;return"rpx"===i?r=Math.floor(t*(L||.5)*1):"px"===i?r=Math.floor(1*t):"%"===i?r=Math.floor(t*_(e)/100):"em"===i&&(r=Math.ceil(t*_(e||14))),r}}const z=[.296,.313,.436,.638,.586,.89,.87,.256,.334,.334,.455,.742,.241,.433,.241,.427,.586,.586,.586,.586,.586,.586,.586,.586,.586,.586,.241,.241,.742,.742,.742,.483,1.031,.704,.627,.669,.762,.55,.531,.744,.773,.294,.396,.635,.513,.977,.813,.815,.612,.815,.653,.577,.573,.747,.676,1.018,.645,.604,.62,.334,.416,.334,.742,.448,.295,.553,.639,.501,.64,.567,.347,.64,.616,.266,.267,.544,.266,.937,.616,.636,.639,.64,.382,.463,.373,.616,.525,.79,.507,.529,.492,.334,.269,.334,.742,.296];function A(t){return new Promise(((e,s)=>{let i=t.split(",")[0].split(":")[1].split(";")[0],r=atob(t.split(",")[1]),o=new ArrayBuffer(r.length),a=new Uint8Array(o);for(let t=0;t<r.length;t++)a[t]=r.charCodeAt(t);e(URL.createObjectURL(new Blob([a],{type:i})))}))}function N(t,e){return new Promise((async(s,i)=>{var r;if(/^(http|\/\/)/.test(t)&&e&&(t=await(r=t,new Promise(((t,e)=>{const s=()=>{let s=new Image;s.onload=function(){let e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(s,0,0);let i=e.toDataURL("image/png");t(i),e.height=e.width=0},s.src=r,s.setAttribute("crossOrigin","Anonymous"),s.src=r,s.onerror=t=>{console.error(`urlToBase64 error: ${r}`,JSON.stringify(t)),e(new Error("urlToBase64 error"))}},i=s=>{const i=new FileReader;i.onload=e=>{t(e.target.result)},i.readAsDataURL(s),i.onerror=t=>{console.error("blobToBase64 error:",JSON.stringify(t)),e(new Error("blobToBase64 error"))}},o="function"==typeof FileReader;if(/^(http|\/\/)/.test(r)&&o){window.URL=window.URL||window.webkitURL;const t=new XMLHttpRequest;t.open("get",r,!0),t.timeout=2e3,t.responseType="blob",t.onload=function(){200==this.status?i(this.response):s()},t.onreadystatechange=function(){0===this.status&&console.error("图片跨域了，得后端处理咯")},t.send()}else/^blob/.test(r)&&o?i(r):s()})))),/^data:image\/(\w+);base64/.test(t))if(H[t])t=H[t];else{const e=t;t=await A(t),H[e]=t}H[t]&&H[t].errMsg?s(H[t]):d({src:t,success:e=>{e.url=t,H[t]=e,s(H[t])},fail(e){s({path:t}),console.error(`getImageInfo:fail ${t} failed ${JSON.stringify(e)}`)}})}))}const D={isGradient:t=>!(!t||!t.startsWith("linear")&&!t.startsWith("radial")),doGradient(t,e,s,i){t.startsWith("linear")?function(t,e,s,i){const r=function(t,e,s){const i=t.match(/([-]?\d{1,3})deg/);let r;switch(i&&i[1]?parseFloat(i[1]):0){case 0:r=[0,-s/2,0,s/2];break;case 90:r=[e/2,0,-e/2,0];break;case-90:r=[-e/2,0,e/2,0];break;case 180:r=[0,s/2,0,-s/2];break;case-180:r=[0,-s/2,0,s/2];break;default:let t=0,o=0,a=0,n=0;i[1]>0&&i[1]<90?(t=e/2-(e/2*Math.tan((90-i[1])*Math.PI*2/360)-s/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,n=Math.tan((90-i[1])*Math.PI*2/360)*t,a=-t,o=-n):i[1]>-180&&i[1]<-90?(t=-e/2+(e/2*Math.tan((90-i[1])*Math.PI*2/360)-s/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,n=Math.tan((90-i[1])*Math.PI*2/360)*t,a=-t,o=-n):i[1]>90&&i[1]<180?(t=e/2+(-e/2*Math.tan((90-i[1])*Math.PI*2/360)-s/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,n=Math.tan((90-i[1])*Math.PI*2/360)*t,a=-t,o=-n):(t=-e/2-(-e/2*Math.tan((90-i[1])*Math.PI*2/360)-s/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,n=Math.tan((90-i[1])*Math.PI*2/360)*t,a=-t,o=-n),r=[t,o,a,n]}return r}(s,t,e),o=i.createLinearGradient(r[0],r[1],r[2],r[3]),a=s.match(/linear-gradient\((.+)\)/)[1],n=E(a.substring(a.indexOf(",")+1));for(let h=0;h<n.colors.length;h++)o.addColorStop(n.percents[h],n.colors[h]);i.setFillStyle(o)}(e,s,t,i):t.startsWith("radial")&&function(t,e,s,i){const r=E(s.match(/radial-gradient\((.+)\)/)[1]),o=i.createCircularGradient(0,0,t<e?e/2:t/2);for(let a=0;a<r.colors.length;a++)o.addColorStop(r.percents[a],r.colors[a]);i.setFillStyle(o)}(e,s,t,i)}};function E(t){const e=t.substring(0,t.length-1).split("%,"),s=[],i=[];for(let r of e)s.push(r.substring(0,r.lastIndexOf(" ")).trim()),i.push(r.substring(r.lastIndexOf(" "),r.length)/100);return{colors:s,percents:i}}class q{constructor(t,e,s=!1,i=!1,r){this.ctx=t,this.canvas=e||null,this.use2dCanvas=s,this.isH5PathToBase64=i,this.sleep=r}roundRect(t,e,s,i,r,o=!1,a=!1){if(r<0)return;const{ctx:n}=this;if(n.beginPath(),r)if("number"==typeof r&&[0,1,-1].includes(s-2*r)&&[0,1,-1].includes(i-2*r))n.arc(t+s-r,e+i-r,r,0,2*Math.PI);else{let{borderTopLeftRadius:o=r||0,borderTopRightRadius:a=r||0,borderBottomRightRadius:h=r||0,borderBottomLeftRadius:l=r||0}=r||{r:r,r:r,r:r,r:r};n.arc(t+s-h,e+i-h,h,0,.5*Math.PI),n.lineTo(t+l,e+i),n.arc(t+l,e+i-l,l,.5*Math.PI,Math.PI),n.lineTo(t,e+o),n.arc(t+o,e+o,o,Math.PI,1.5*Math.PI),n.lineTo(t+s-a,e),n.arc(t+s-a,e+a,a,1.5*Math.PI,2*Math.PI),n.lineTo(t+s,e+i-h)}else n.rect(t,e,s,i);n.closePath(),a&&n.stroke(),o&&n.fill()}setTransform(t,{transform:e}){const{ctx:s}=this;let{scaleX:i=1,scaleY:r=1,translateX:o=0,translateY:a=0,rotate:n=0,skewX:h=0,skewY:l=0}=e||{},{left:p,top:c,width:d,height:g}=t;o=_(o,d)||0,a=_(a,g)||0,s.scale(i,r),s.translate(d*(i>0?1:-1)/2+(p+o)/i,g*(r>0?1:-1)/2+(c+a)/r),n&&s.rotate(n*Math.PI/180),(h||l)&&s.transform(1,Math.tan(l*Math.PI/180),Math.tan(h*Math.PI/180),1,0,0)}setBackground(t,e,s){const{ctx:i}=this;t?D.isGradient(t)?D.doGradient(t,e,s,i):i.setFillStyle(t):i.setFillStyle("transparent")}setShadow({boxShadow:t=[]}){const{ctx:e}=this;if(t.length){const[s,i,r,o]=t;e.setShadow(s,i,r,o)}}setBorder(t,e){const{ctx:s}=this;let{left:i,top:r,width:o,height:a}=t;const{border:n,borderBottom:h,borderTop:l,borderRight:p,borderLeft:c,borderRadius:d,opacity:g=1}=e,{borderWidth:f=0,borderStyle:m,borderColor:u}=n||{},{borderBottomWidth:x=f,borderBottomStyle:b=m,borderBottomColor:w=u}=h||{},{borderTopWidth:y=f,borderTopStyle:v=m,borderTopColor:T=u}=l||{},{borderLeftWidth:k=f,borderLeftStyle:S=m,borderLeftColor:O=u}=c||{};let{borderTopLeftRadius:R=d||0,borderTopRightRadius:C=d||0,borderBottomRightRadius:j=d||0,borderBottomLeftRadius:P=d||0}=d||{r:d,r:d,r:d,r:d};if(!(h||c||l||p||n))return;const B=(t,e,i)=>{"dashed"==e?s.setLineDash([Math.ceil(6*t),Math.ceil(6*t)]):"dotted"==e&&s.setLineDash([t,t]),s.setStrokeStyle(i)},I=(i,r,o,a,n,h,l,p,c,d,g,f,m,u)=>{s.save(),this.setOpacity(e),this.setTransform(t,e),s.setLineWidth(f),B(f,m,u),s.beginPath(),s.arc(i,r,l,Math.PI*c,Math.PI*d),s.lineTo(o,a),s.arc(n,h,p,Math.PI*d,Math.PI*g),s.stroke(),s.restore()};n&&(s.save(),this.setOpacity(e),this.setTransform(t,e),s.setLineWidth(f),B(f,m,u),this.roundRect(-o/2,-a/2,o,a,d,!1,!!u),s.restore()),i=-o/2,r=-a/2,h&&I(i+o-j,r+a-j,i+P,r+a,i+P,r+a-P,j,P,.25,.5,.75,x,b,w),c&&I(i+P,r+a-P,i,r+R,i+R,r+R,P,R,.75,1,1.25,k,S,O),l&&I(i+R,r+R,i+o-C,r,i+o-C,r+C,R,C,1.25,1.5,1.75,y,v,T),p&&I(i+o-C,r+C,i+o,r+a-j,i+o-j,r+a-j,C,j,1.75,2,.25,y,v,T)}setOpacity({opacity:t=1}){this.ctx.setGlobalAlpha(t)}drawView(t,e){const{ctx:s}=this,{left:i,top:r,width:o,height:a}=t;let{borderRadius:n=0,border:h,borderTop:l,borderBottom:p,borderLeft:c,borderRight:d,color:g="#000000",backgroundColor:f,rotate:m,shadow:u}=e||{};s.save(),this.setOpacity(e),this.setTransform(t,e),this.setShadow(e),this.setBackground(f,o,a),this.roundRect(-o/2,-a/2,o,a,n,!0,!1),s.restore(),this.setBorder(t,e)}async drawImage(t,e={},s={},i=!0){await new Promise((async(r,o)=>{const{ctx:a}=this,n=this.canvas;let{borderRadius:h=0,mode:l,padding:p={},backgroundColor:c}=s;const{paddingTop:d=0,paddingLeft:g=0,paddingRight:f=0,paddingBottom:m=0}=p;let{left:u,top:x,width:b,height:w}=e;a.save(),i||(this.setOpacity(s),this.setTransform(e,s),c&&this.setBackground(c,b,w),this.setShadow(s),u=-b/2,x=-w/2,this.roundRect(u,x,b,w,h,!!h,!1)),a.clip();const y=t=>{u+=g,x+=d,b=b-g-f,w=w-d-m;let e=t.width,s=t.height,i=0,r=0;const o=b/w,n=e/s;switch(t.width||(l="scaleToFill"),l){case"scaleToFill":default:a.drawImage(t.src,u,x,b,w);break;case"aspectFit":o>=n?(e=w*n,s=w,i=u+Math.round(b-e)/2,r=x):(e=b,s=b/n,i=u,r=x+Math.round(w-s)/2),a.drawImage(t.src,i,r,e,s);break;case"aspectFill":o>=n?s=e/o:(e=s*o,i=Math.round(((t.width||b)-e)/2)),a.drawImage(t.src,i,r,e,s,u,x,b,w)}},v=()=>{a.restore(),this.setBorder(e,s),setTimeout((()=>{r(!0)}),this.sleep)},T=t=>{if(this.use2dCanvas){const e=n.createImage();e.onload=()=>{t.src=e,y(t),v()},e.onerror=()=>{console.error(`createImage fail: ${JSON.stringify(t)}`),o(new Error(`createImage fail: ${JSON.stringify(t)}`))},e.src=t.src}else y(t),v()};if("string"==typeof t){const{path:e,width:s,height:i}=await N(t,this.isH5PathToBase64);T({src:e,width:s,height:i})}else T(t)}))}drawText(t,e,s,i){const{ctx:r}=this;let{left:o,top:a,width:n,height:h,offsetLeft:l=0}=e,{color:p="#000000",lineHeight:d="1.4em",fontSize:g=14,fontWeight:f,fontFamily:m,textStyle:u,textAlign:x="left",verticalAlign:b="top",backgroundColor:w,maxLines:y,display:v,padding:T={},borderRadius:k=0,textDecoration:S}=s;const{paddingTop:O=0,paddingLeft:R=0}=T;if(d=_(d,g),!t)return;r.save(),this.setOpacity(s),this.setTransform(e,s),o=-n/2,a=-h/2,r.setTextBaseline(b),r.setFonts({fontFamily:m,fontSize:g,fontWeight:f,textStyle:u}),r.setTextAlign(x),w&&(this.setBackground(w,n,h),this.roundRect(o,a,n,h,k,1,0)),v&&v.includes("lock")&&(o+=R,a+=O),this.setShadow(s),r.setFillStyle(p);let C={};if(i&&i.word.length>0)for(let c=0;c<i.word.length;c++){let e,s=0;for(;(e=t.indexOf(i.word[c],s))>-1;){C[e]={reset:!0};for(let t=0;t<i.word[c].length;t++)C[e+t]={reset:!0};s=e+1}}switch(x){case"left":break;case"center":o+=.5*n;break;case"right":o+=n}const j=r.measureText(t,g).width;switch(b){case"top":break;case"middle":a+=g/2;break;case"bottom":a+=g}const P=(t,e,s)=>{const{system:i}=c();switch(/win|mac/.test(i)&&(e+=g/3),b){case"top":break;case"middle":e-=g/2;break;case"bottom":e-=g}let o=t;switch(x){case"left":o+=s;break;case"center":o=(t-=s/2)+s;break;case"right":o=t,t-=s}S&&(r.setLineWidth(g/13),r.beginPath(),/\bunderline\b/.test(S)&&(e-=.8*F,r.moveTo(t,e),r.lineTo(o,e)),/\boverline\b/.test(S)&&(e+=F,r.moveTo(t,e-d),r.lineTo(o,e-d)),/\bline-through\b/.test(S)&&(r.moveTo(t,e-d/2),r.lineTo(o,e-d/2)),r.closePath(),r.setStrokeStyle(p),r.stroke())},B=(t,e,s)=>{const o=Object.keys(C);for(let a=0;a<o.length;a++){const t=C[o[a]];r.save(),r.setFillStyle(i.color),t.char&&r.fillText(t.char,t.x,t.y),r.restore()}},I=(t,e)=>{if(t){const t=Math.round(r.measureText(" ",g).width),s=Math.round(r.measureText("　",g).width),i=Math.round(r.measureText(e,g).width);let o="",a=1;return i==s?(o="　",a=1):(o=" ",a=Math.ceil(i/t)),{char:new Array(a).fill(o).join(""),width:i}}return{char:e}},M=(t,e,s,i)=>{C[e].x=s,C[e].y=i,C[e].char=t},$=(t,e,s,i,{startIndex:o=0,endIndex:n})=>{let h=s;/·/.test(s)&&(h=h.replace(/·/g,"."),i=r.measureText(h,g).width);let l=s.split(""),p=t,c=!0;for(let d=0;d<e.length;d++){const s=e[d],n=s-o,f=l[n];if(f){let{char:e,width:o}=I(C[s],f);if(l[n]=e,c){c=!1;let e=0,s=0,r=0;"center"==x&&(p=t-.5*(i-o-(s-e)*r)),"right"==x&&(p=t-i+o+(s-e)*r)}M(f,s,p+r.measureText(h.substring(0,n),g).width,a+F)}}return l},F=Math.ceil((d-g)/2);if(j+l<=n&&!t.includes("\n")){o+=l;const i=Object.keys(C);let n="";return i&&(n=$(o,i,t,j,{}),B()),r.fillText(n.join(""),o,a+F),a+=d,P(o,a,j),r.restore(),void this.setBorder(e,s)}const L=t.split(""),H=a;let W=o,z="",A=0,N=0;for(let c=0;c<=L.length;c++){let t=L[c]||"";const e="\n"===t,s=""==t;t=e?"":t;let i=z+t,p=r.measureText(i,g).width;if(A>=y)break;if(0==A?(p+=l,W=o+l):W=o,p>n||e||s){let l=c;if(A++,z=s&&p<=n?i:z,A===y&&p>n){for(;r.measureText(`${z}...`,g).width>n&&!(z.length<=1);)z=z.substring(0,z.length-1);z+="..."}const f=Object.keys(C);let m="";if(f&&(m=$(o,f,z,p,{startIndex:N,endIndex:l}),B()),r.fillText(m.join(""),W,a+F),a+=d,P(W,a,p),z=t,N=l+(e?1:0),a+d>H+h)break}else z=i}r.restore(),this.setBorder(e,s)}async drawNode(t){const{layoutBox:e,computedStyle:s,name:i,rules:r}=t,{src:o,text:a}=t.attributes;if("view"===i?this.drawView(e,s):"image"===i&&o?await this.drawImage(t.attributes,e,s,!1):"text"===i&&this.drawText(a,e,s,r),!t.children)return;const n=Object.values?Object.values(t.children):Object.keys(t.children).map((e=>t.children[e]));for(const h of n)await this.drawNode(h)}}let U=0;class J{constructor(t,e,s){this.ctx=t,this.root=e,this.isH5PathToBase64=s}init(t,e,s){this.ctx=t,this.root=e,this.isH5PathToBase64=s}async getNodeTree(t,e={},s=0,i=[],r){let o=Object.assign({},this.getComputedStyle(t,e,s)),a=await this.getAttributes(t),n={id:U++,parent:e,computedStyle:o,rules:t.rules,attributes:Object.assign({},a),name:(null==t?void 0:t.type)||"view"};if("{}"!==JSON.stringify(e)||t.type)n.layoutBox=Object.assign({left:0,top:0},this.getLayoutBox(n,e,s,i,r));else{const{left:t=0,top:e=0,width:s=0,height:i=0}=o;n.layoutBox={left:t,top:e,width:s,height:i}}if(null==t?void 0:t.views){let e=[];n.children=[];for(let s=0;s<t.views.length;s++){let i=t.views[s];e.push(await this.getNodeTree(i,n,s,e,t))}n.children=e}return n}getComputedStyle(t,e={},s=0){const i={},r=t.name||t.type,o="{}"!=JSON.stringify(e)||r?t.css:t;if(!o)return i;const a=["color","fontSize","lineHeight","verticalAlign","fontWeight","textAlign"];e.computedStyle&&a.forEach((t=>{(o[t]||e.computedStyle[t])&&(o[t]=o[t]||e.computedStyle[t])}));for(let n of Object.keys(o)){const t=o[n];if("views"!=n)if(/^(box)?shadow$/i.test(n)){let e=t.split(" ").map((t=>/^\d/.test(t)?_(t):t));i.boxShadow=e}else if(/^border(?!radius)/i.test(n)){const e=n.match(/^border([BTRLa-z]+)?/)[0],s=n.match(/[W|S|C][a-z]+/);let r=t.split(" ").map((t=>/^\d/.test(t)?_(t):t));r.length>1?i[e]={[e+"Width"]:r[0]||1,[e+"Style"]:r[1]||"solid",[e+"Color"]:r[2]||"black"}:(i[e]={[e+"Width"]:1,[e+"Style"]:"solid",[e+"Color"]:"black"},i[e][e+s[0]]=r[0])}else if(/^background(Color)?$/i.test(n))i.backgroundColor=t;else if(/padding|margin|radius/i.test(n)){let e=n.includes("adius"),s=e?"borderRadius":n.match(/[a-z]+/)[0],r=[0,0,0,0].map(((t,i)=>e?["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"][i]:[s+"Top",s+"Right",s+"Bottom",s+"Left"][i]));if("padding"===n||"margin"===n||"radius"===n||"borderRadius"===n){let s=(null==t?void 0:t.split(" ").map((t=>/^\d/.test(t)&&_(t,o.width)),[]))||[0],a=e?"borderRadius":n;if(1==s.length)i[a]=s[0];else{let[t,e,o,n]=s;i[a]={[r[0]]:t,[r[1]]:W(e)?e:t,[r[2]]:W(o)?o:t,[r[3]]:W(n)?n:e}}}else"object"==typeof i[s]||(i[s]={[r[0]]:i[s]||0,[r[1]]:i[s]||0,[r[2]]:i[s]||0,[r[3]]:i[s]||0}),i[s][n]=_(t,o.width)}else if(/^(width|height)$/i.test(n))/%$/.test(t)?i[n]=_(t,e.layoutBox[n]):i[n]=/px|rpx$/.test(t)?_(t):t;else if(/^transform$/i.test(n))i[n]={},t.replace(/([a-zA-Z]+)\(([0-9,-\.%rpxdeg\s]+)\)/g,((t,e,s)=>{const r=s.split(",").map((t=>t.replace(/(^\s*)|(\s*$)/g,""))),a=(t,e)=>t.includes("deg")?1*t:e&&!/%$/.test(e)?_(t,e):t;e.includes("matrix")?i[n][e]=r.map((t=>1*t)):e.includes("rotate")?i[n][e]=1*s.match(/\d+/)[0]:/[X, Y]/.test(e)?i[n][e]=/[X]/.test(e)?a(r[0],o.width):a(r[0],o.height):(i[n][e+"X"]=a(r[0],o.width),i[n][e+"Y"]=a(r[1]||r[0],o.height))}));else if(/%/.test(t)){const{width:s,height:r,left:a,top:h}=e.layoutBox,{width:l,height:p}=this.root;i.position,i[n]="width"==n?_(t,s||l):"height"==n?_(t,r||p):"left"==n||"top"==n?t:_(t,o.width)}else i[n]=/px|rpx$/.test(t)?_(t):/em$/.test(t)&&"text"==r?_(t,o.fontSize):t}return/image/.test(t.name||t.type)&&!i.mode&&(i.mode=t.mode||"scaleToFill",o.width&&"auto"!=o.width||o.height&&"auto"!=o.width||(i.mode="")),i}getLayoutBox(t,e={},s=0,i=[],r={}){var o,a;let n={},{name:h,computedStyle:l,layoutBox:p,attributes:c}=t||{};if(!h)return n;const{ctx:d}=this,g=e.layoutBox||this.root,f=e.computedStyle;let{verticalAlign:m,left:u,top:x,width:b,height:w,fontSize:y=14,lineHeight:v="1.4em",maxLines:T,fontWeight:k,fontFamily:S,textStyle:O,position:R,display:C}=l;const j=l.padding,P=l.margin,{paddingTop:B=0,paddingRight:I=0,paddingBottom:M=0,paddingLeft:$=0}=l.padding||{p:j,p:j,p:j,p:j},{marginTop:F=0,marginRight:L=0,marginBottom:H=0,marginLeft:z=0}=l.margin||{m:P,m:P,m:P,m:P},{layoutBox:A,computedStyle:N,name:D}=i[s-1]||{},{layoutBox:E,computedStyle:q,name:U}=i[s+1]||{},J=(null==(o=null==N?void 0:N.margin)?void 0:o.marginBottom)||0,X=(null==(a=null==N?void 0:N.margin)?void 0:a.marginRight)||0;if(/%$/.test(u)&&(u=_(u,g.width)),/%$/.test(x)&&(x=_(x,g.height)),"relative"==R&&(u+=g.left,x+=g.top),"text"===h){const t=c.text||"";v=_(v,y),d.save(),d.setFonts({fontFamily:S,fontSize:y,fontWeight:k,textStyle:O});const i=0==s,r="inlineBlock"===C,o="block"===C||"block"===(null==N?void 0:N.display),a=i&&!E||!(null==e?void 0:e.id),h=i||o?0:A.offsetRight||0;let p=t.split("\n"),R=1,j="";const P=l.textIndent||0;a||r?(j=t,R=Math.max(p.length,Math.ceil(d.measureText(t,y).width/((b||g.width)-d.measureText("!",y).width/2)))):p.map(((t,e)=>{R+=e;const s=t.split("");for(let i=0;i<s.length;i++){let t=s[i],e=j+t,r=d.measureText(e,y).width;1==R&&(r=r+(o?0:h)+P),r>g.width?(R++,j=t):j=e}})),r||(n.offsetLeft=(W(u)||o||a?P:h)+$+z);const H=d.measureText(j,y).width;let q=R>1?g.width:H+((null==n?void 0:n.offsetLeft)||0);r||(n.offsetRight=(u||0)+n.offsetLeft+(b||(o?g.width:H))+I+L);const U=A?A.left+A.width:0,Y=()=>r?(U+q>g.width||i?g.left:U+X)+z:u||g.left,G=()=>r?q+$+I:b||(!a||o?g.width:q>g.width-n.left||R>1?g.width-n.left:q),Q=()=>w||(R>1?(T||R)*v+B+M:v+B+M),V=()=>{let t=x;return t||(t=i?g.top:1==R&&q<g.width&&"text"===D&&!o&&!r||A.width<g.width&&!(r&&U+q>g.width)?A.top:A.top+A.height-((null==N?void 0:N.lineHeight)||0)),"bottom"===m&&(t=g.top+(g.height-n.height||0)),"middle"===m&&(t=g.top+(g.height?(g.height-n.height||0)/2:0)),t+F+(o&&(null==N?void 0:N.lineHeight)||0)+(U+q>g.width?J:0)};n.left=Y(),n.width=G(),n.height=Q(),n.top=V(),f&&!f.height&&(g.height=n.top-g.top+n.height),d.restore()}else if(["view","qrcode"].includes(h))n.left=(u||g.left)+z-L,n.width=(b||(null==g?void 0:g.width))-$-I,n.height=w||0,W(x)?n.top=x+F:n.top=(A&&A.top+A.height||g.top)+F+J;else if("image"===h){const{width:t,height:e}=c,s=A&&A.left+A.width;if(W(u)?n.left=u+z-L:n.left=(A&&(s<g.width?s:g.left)||g.left)+z-L,W(b)?n.width=b:n.width=Math.round(W(w)?t*w/e:null==g?void 0:g.width),W(w))n.height=w;else{const s=Math.round(n.width*e/t);n.height=Math.min(s,null==g?void 0:g.height)}W(x)?n.top=x+F:n.top=(A&&(s<g.width?s:A.top+A.height)||g.top)+F+J}return n}async getAttributes(t){let e={};if((null==t?void 0:t.url)||(null==t?void 0:t.src)){e.src=t.url||(null==t?void 0:t.src);const{width:s=0,height:i=0,path:r,url:o}=await N(e.src,this.isH5PathToBase64)||{};e=Object.assign({},e,{width:s,height:i,src:r,url:o})}return(null==t?void 0:t.text)&&(e.text=t.text),e}async calcNode(t){const e=t||this.element;return await this.getNodeTree(e)}}function X(t){return Object.assign(t,(t=>(t._measureText=t.measureText,{setFonts({fontFamily:e="sans-serif",fontSize:s=14,fontWeight:i="normal",textStyle:r="normal"}){t.font=`${r} ${i} ${s}px ${e}`},measureText:(t,e)=>({width:t.split("").reduce(((t,e)=>{let s=e.charCodeAt(0);return t+(z[s-32]||1)}),0)*e})}))(t))}const Y=j({components:{lPainter:j({name:"l-painter",props:{board:Object,fileType:{type:String,default:"png"},quality:{type:Number,default:1},width:[Number,String],height:[Number,String],pixelRatio:Number,customStyle:String,isRenderImage:Boolean,isBase64ToPath:Boolean,isH5PathToBase64:Boolean,sleep:{type:Number,default:1e3/30}},data(){return{canvasId:`l-painter${this._uid}`,use2dCanvas:!1,draw:null,ctx:null,layout:new J}},computed:{newboard(){return this.board&&JSON.parse(JSON.stringify(this.board))},style(){return`width:${this.boardWidth}px; height: ${this.boardHeight}px; ${this.customStyle}`},dpr(){return this.pixelRatio||c().pixelRatio},boardWidth(){const{width:t=200}=this.board||{};return _(this.width||t)},boardHeight(){const{height:t=200}=this.board||{};return _(this.height||t)}},watch:{style(){}},mounted(){this.$watch("board",(async(t,e)=>{"{}"!==JSON.stringify(t)&&t&&this.render()}),{deep:!0,immediate:!0})},methods:{async render(t={},e=!1){const s="{}"!=JSON.stringify(t),i=await this.getContext(),{use2dCanvas:r,boardWidth:o,boardHeight:a,board:n,canvas:h,isBase64ToPath:l,isH5PathToBase64:p,sleep:c}=this;return r&&!h?Promise.reject(new Error("render: fail canvas has not been created")):(this.boundary={top:0,left:0,width:o,height:a},e||i.clearRect(0,0,o,a),this.draw&&!s||(this.draw=new q(i,h,r,p,c)),this.layout.init(i,this.boundary,this.isH5PathToBase64),(s||n&&"{}"!=JSON.stringify(n))&&(this.node=await this.layout.calcNode(s?t:n)),this.node&&await this.draw.drawNode(this.node),await new Promise((t=>this.$nextTick(t))),r||e||await this.canvasDraw(i),this.$emit("done"),this.isRenderImage&&!e&&this.canvasToTempFilePath().then((async t=>{if(/^data:image\/(\w+);base64/.test(t.tempFilePath)&&l){const e=await A(t.tempFilePath);this.$emit("success",e)}else this.$emit("success",t.tempFilePath)})).catch((t=>{this.$emit("fail",t),new Error(JSON.stringify(t)),console.error(JSON.stringify(t))})),Promise.resolve({ctx:i,draw:this.draw}))},async custom(t){const{ctx:e,draw:s}=await this.render({},!0);return e.save(),await t(e,s),e.restore(),Promise.resolve(!0)},async single(t={}){return await this.render(t,!0),Promise.resolve(!0)},canvasDraw(t=!1){const{ctx:e}=this;return new Promise((s=>{e.draw(t,(()=>{s(!0)}))}))},async getContext(){if(this.ctx&&this.inited)return Promise.resolve(this.ctx);await new Promise((t=>this.$nextTick(t)));return(()=>new Promise((t=>{f().in(this).select("#"+this.canvasId).boundingClientRect().exec((e=>{if(e){const s=m(this.canvasId,this);this.inited||(this.inited=!0,this.use2dCanvas=!1,this.canvas=e),this.ctx=X(s),t(this.ctx)}}))})))()},canvasToTempFilePath(t={}){const{use2dCanvas:e,canvasId:s}=this;return new Promise(((i,r)=>{let{top:o=0,left:a=0,width:n,height:h}=this.boundary||this;const l={x:a,y:o,width:n,height:h,destWidth:n*this.dpr,destHeight:h*this.dpr,canvasId:s,fileType:t.fileType||this.fileType,quality:/\d/.test(t.quality)?t.quality:this.quality,success:i,fail:r};e&&(delete l.canvasId,l.canvas=this.canvas),g(l,this)}))}}},[["render",function(s,i,r,a,n,h){const l=u;return n.use2dCanvas?(t(),e(l,{key:0,id:n.canvasId,type:"2d",style:o(h.style)},null,8,["id","style"])):(t(),e(l,{key:1,"canvas-id":n.canvasId,style:o(h.style),id:n.canvasId,width:h.boardWidth*h.dpr,height:h.boardHeight*h.dpr},null,8,["canvas-id","style","id","width","height"]))}]]),uniPopup:F},data:()=>({show_poster:!1,loading:!0,path:"",posterObj:{width:"710rpx",height:"1300rpx",background:"#fff",borderRadius:"16rpx",views:[{type:"image",src:"https://oss.zsyl.cc/uploads/images/20250613/202506131448330f54c2812.png",css:{left:"0rpx",top:"0rpx",width:"710rpx",height:"1300rpx",borderRadius:"16rpx"}},{type:"text",text:"",css:{fontSize:"60rpx",color:"#FF825C",fontWeight:"bold",lineHeight:"55rpx",left:"10rpx",top:"110rpx",width:"606rpx"}},{type:"image",src:"",css:{left:"490rpx",top:"1090rpx",width:"178rpx",height:"178rpx",borderRadius:"0rpx"}},{type:"text",text:"",css:{fontSize:"30rpx",color:"#FF825C",fontWeight:"bold",lineHeight:"55rpx",left:"30rpx",top:"70rpx",width:"600rpx"}}]},footer_arr:["https://s.yun-live.com/images/20210201/d502979c734077930cee837739ee9285.png","https://s.yun-live.com/images/20210201/0289000561415e1f9f6e542a3553906d.png","https://s.yun-live.com/images/20210201/5d2e237728e1dd8727835ca95084721e.png","https://s.yun-live.com/images/20210201/15075d31c26cc446333d569b0d2346e8.png","https://s.yun-live.com/images/20210201/8f4bbf78cab7a20079992c69e997e30b.png","https://s.yun-live.com/images/20210201/6e716c556d1a80e90ecb0260e0990add.png"],check_idx:0,options:{totlnum:"",qr_code:"https://oss.banmask.cn/40/image/2025/06/68358a45b9c54ed9e4c751c7394b02da.png",getBgImgSrc:""},conclusion:"",numb:"",ALLnumb:0,radarData:[80,60,90,70,85,75],radarIndicators:[{name:"皮肤年龄",max:200},{name:"心率",max:200},{name:"血氧饱和度",max:200},{name:"进取性",max:200},{name:"活力度",max:200},{name:"焦虑度",max:200}],radarBase64:""}),onLoad(t){this.options.totlnum=t.numtolt,this.ALLnumb=Number(100-t.numtolt),this.numb=Number(t.shuishan),this.posterObj.views[1].text=this.options.totlnum,null==this.options.totlnum&&(this.options.totlnum=0),this.posterObj.views[0].src="/static/images/Shui_fine.png";let e=x("nickname");if(e){let t=e.length>8?e.slice(0,8):e;this.posterObj.views[3].text=t,8===t.length?this.posterObj.views[3].css.left="260rpx":7===t.length?this.posterObj.views[3].css.left="268rpx":6===t.length?this.posterObj.views[3].css.left="280rpx":5===t.length?this.posterObj.views[3].css.left="298rpx":4===t.length?this.posterObj.views[3].css.left="310rpx":3===t.length?this.posterObj.views[3].css.left="320rpx":2===t.length?this.posterObj.views[3].css.left="340rpx":this.posterObj.views[3].css.left="350rpx"}else{let t="归海边的少年",e=t.length>8?t.slice(0,8):t;this.posterObj.views[3].text=e,8===e.length?this.posterObj.views[3].css.left="260rpx":7===e.length?this.posterObj.views[3].css.left="268rpx":6===e.length?this.posterObj.views[3].css.left="280rpx":5===e.length?this.posterObj.views[3].css.left="298rpx":4===e.length?this.posterObj.views[3].css.left="310rpx":3===e.length?this.posterObj.views[3].css.left="320rpx":2===e.length?this.posterObj.views[3].css.left="340rpx":this.posterObj.views[3].css.left="350rpx"}this.options.totlnum>=0&&this.options.totlnum<=9?this.posterObj.views[1].css.left="394rpx":this.options.totlnum>=10&&this.options.totlnum<=99?this.posterObj.views[1].css.left="374rpx":this.options.totlnum>=100&&this.options.totlnum<=999&&(this.posterObj.views[1].css.left="372rpx",this.posterObj.views[1].css.fontSize="42rpx",this.posterObj.views[1].css.lineHeight="65rpx"),this.Detectionsection(),this.resultLists(),this.createContactQrCode()},watch:{},mounted(){this.$nextTick((()=>{this.initRadarChart(),this.updateRadarToPoster()}))},methods:{createContactQrCode(){b({}).then((t=>{this.posterObj.views[2].src=t.qr_code}))},resultLists(){w({page_no:1,page_size:1}).then((t=>{console.log("res.res:res",t),this.text2=t;const{physiologyscorereport:e,afreport:s,bpreport:i,essentialreport:r,healthScoreReport:o,hrreport:a,riskreport:n,spo2hreport:h,calculatedReport:l,aggressivityreport:p,vitalityreport:c,anxietyreport:d}=t.lists[0].result;this.radarData[0]=r.data.age,this.radarData[1]=a.data.hrbpm,this.radarData[2]=h.data,this.radarData[3]=p.data.toFixed(2),this.radarData[4]=c.data.toFixed(2),this.radarData[5]=d.data.toFixed(2),console.log("123,radarData:",this.radarData),this.updateRadarToPoster()}))},initRadarChart(){const t=this.$refs.radarChart;if(!t)return;const e=B(t);console.log("myChart:myChart",e);const s={tooltip:{},radar:{indicator:this.radarIndicators,radius:60},series:[{name:"睡眠六维",type:"radar",data:[{value:this.radarData,name:"本次得分",areaStyle:{color:"rgba(78,127,255,0.3)"},lineStyle:{color:"#4e7fff"}}]}]};e.setOption(s)},async updateRadarToPoster(){const t=await this.generateRadarBase64();this.radarBase64=t,this.posterObj.views[3]&&(this.posterObj.views[3].src=t)},Detectionsection(){y({score:this.numb}).then((t=>{this.conclusion=t.detail.remarks,this.posterObj.views[1].text=this.options.totlnum,this.numb<=5?(this.posterObj.views[0].src="/static/images/Shui_fine.png",this.options.getBgImgSrc="/static/images/nice.png"):this.numb>=6&&this.numb<=15?(this.posterObj.views[0].src="/static/images/Shui_feneral.png",this.options.getBgImgSrc="/static/images/ni.png"):this.numb>15&&(this.posterObj.views[0].src="/static/images/Shui_bad.png",this.options.getBgImgSrc="/static/images/nic.png"),this.loading=!1}))},previewImg(){},closePopup(){this.$refs.posterImg.close(),this.show_poster=!1},handleShare(){v({url:"/pages/healthtest/Newconclusion?context="+this.conclusion+"&numtolt="+this.numb+"&fang=1"})},generateRadarBase64(){return new Promise((t=>{const e=document.createElement("div");e.style.width="300px",e.style.height="220px",document.body.appendChild(e);const s=B(e),i={radar:{indicator:this.radarIndicators,radius:60},series:[{type:"radar",data:[{value:this.radarData,areaStyle:{color:"rgba(78,127,255,0.3)"},lineStyle:{color:"#4e7fff"}}]}]};s.setOption(i),setTimeout((()=>{const i=s.getDataURL({pixelRatio:1,backgroundColor:"rgba(255, 255, 255, 1)",border:"none"});s.dispose(),document.body.removeChild(e),t(i)}),500)}))},async toSave(){T({title:"海报生成中"}),console.log("123",456);this.$refs.painter.canvasToTempFilePath().then((t=>{this.path=t.tempFilePath,this.$refs.posterImg.open(),this.show_poster=!0,k()}))},getImg(t){},toChoose(t){if(5!=t)switch(this.check_idx=t,t){case 0:this.posterObj.background="#fff",this.posterObj.views=[{type:"image",src:"https://s.yun-live.com/images/20210201/9a4e7df322dc5c9f30ea9b126d3269a6.png",css:{width:"128rpx",height:"50rpx",left:"542rpx",top:"0rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/eb694718fa6c7b90d60a2c250847a192.jpg",css:{left:"32rpx",top:"32rpx",borderRadius:"50%",width:"80rpx",height:"80rpx"}},{type:"text",text:"厦门吴彦祖",css:{fontSize:"28rpx",fontWeight:"bold",color:"#1A2033",lineHeight:"28rpx",left:"136rpx",top:"39rpx"}},{type:"text",text:"邀请您一起扫码看直播",css:{fontSize:"24rpx",color:"#4070FF",lineHeight:"24rpx",left:"136rpx",top:"80rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/eb694718fa6c7b90d60a2c250847a192.jpg",css:{left:"32rpx",top:"144rpx",width:"606rpx",height:"341rpx",borderRadius:"16rpx"}},{type:"text",text:"云现场 | 2020年 麓客城市 WO-LUNTEER创想礼·麓客共创之夜",css:{fontSize:"32rpx",color:"#1A2033",fontWeight:"bold",lineHeight:"45rpx",left:"32rpx",top:"509rpx",width:"606rpx"}},{type:"qrcode",text:"https://www.yun-live.com/",css:{left:"235rpx",top:"631rpx",width:"200rpx",height:"200rpx"}},{type:"text",text:"————  由云现场提供技术支持  ————",css:{left:"0",top:"863rpx",width:"100%",textAlign:"center",fontSize:"24rpx",color:"#989FB3",lineHeight:"33rpx"}}];break;case 1:this.posterObj.views=[{type:"image",src:"https://s.yun-live.com/images/20210201/39ae4d9d8ad0b1acac7c224e845c641f.png",css:{left:"0",top:"0",width:"100%",height:"100%"}},{type:"image",src:"https://s.yun-live.com/images/20210201/a887643c62a1748fe5f71a5fccfcacaa.png",css:{width:"128rpx",height:"50rpx",left:"542rpx",top:"0rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/eb694718fa6c7b90d60a2c250847a192.jpg",css:{left:"32rpx",top:"32rpx",borderRadius:"50%",width:"80rpx",height:"80rpx"}},{type:"text",text:"厦门吴彦祖",css:{fontSize:"28rpx",fontWeight:"bold",color:"#D8AB87",lineHeight:"28rpx",left:"136rpx",top:"39rpx"}},{type:"text",text:"邀请您一起扫码看直播",css:{fontSize:"24rpx",color:"#FFFFFF",lineHeight:"24rpx",left:"136rpx",top:"80rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/eb694718fa6c7b90d60a2c250847a192.jpg",css:{left:"50%",top:"188rpx",transform:"translate(-50%,0)",width:"539rpx",height:"303rpx",borderRadius:"16rpx",border:"3rpx solid #B3A498"}},{type:"image",src:"https://s.yun-live.com/images/20210201/d88d56843d43b917e2a28550b2a62723.png",css:{left:"551rpx",top:"111rpx",width:"103rpx",height:"103rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/247736ffd279276b891ec14db8ed0fd0.png",css:{left:"43rpx",top:"432rpx",width:"56.4rpx",height:"56.4rpx"}},{type:"text",text:"云现场 | 2020年 麓客城市 WO-LUNTEER创想礼·麓客共创之夜",css:{fontSize:"32rpx",color:"#fff",fontWeight:"bold",lineHeight:"45rpx",left:"71rpx",top:"492rpx",width:"528rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/63a9b504fb745b43b9fe5c0adef8fddb.png",css:{left:"50%",top:"750rpx",transform:"translate(-50%,0)",width:"192rpx",height:"78rpx"}},{type:"view",css:{left:"50%",top:"630rpx",transform:"translate(-50%,0)",width:"160rpx",height:"160rpx",background:"#fff"}},{type:"qrcode",text:"https://www.yun-live.com/",css:{left:"50%",top:"638rpx",transform:"translate(-50%,0)",width:"144rpx",height:"144rpx"}},{type:"text",text:"————  由云现场提供技术支持  ————",css:{left:"0",top:"863rpx",width:"100%",textAlign:"center",fontSize:"24rpx",color:"#B3A498",lineHeight:"33rpx"}}];break;case 2:this.posterObj.views=[{type:"image",src:"https://s.yun-live.com/images/20210201/78f227bd701da20676c9da9166ce3144.png",css:{left:"0",top:"0",width:"100%",height:"100%"}},{type:"image",src:"https://s.yun-live.com/images/20210201/cf86cf793964d1b2ded6dd9a0c5fdd5e.png",css:{width:"128rpx",height:"50rpx",left:"542rpx",top:"0rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/eb694718fa6c7b90d60a2c250847a192.jpg",css:{left:"56rpx",top:"72rpx",borderRadius:"50%",width:"80rpx",height:"80rpx"}},{type:"text",text:"厦门吴彦祖",css:{fontSize:"28rpx",fontWeight:"bold",color:"#1D1D25",lineHeight:"28rpx",left:"160rpx",top:"80rpx"}},{type:"text",text:"邀请您一起扫码看直播",css:{fontSize:"24rpx",color:"#6CB37A",lineHeight:"24rpx",left:"160rpx",top:"121rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/eb694718fa6c7b90d60a2c250847a192.jpg",css:{left:"50%",top:"188rpx",transform:"translate(-50%,0)",width:"540rpx",height:"303rpx",borderRadius:"16rpx",border:"3rpx solid rgba(255,255,255,0.5)"}},{type:"text",text:"云现场 | 2020年 麓客城市 WO-LUNTEER创想礼·麓客共创之夜",css:{fontSize:"32rpx",color:"#1D1D25",fontWeight:"bold",lineHeight:"45rpx",left:"71rpx",top:"508rpx",width:"530rpx"}},{type:"view",css:{left:"50%",top:"630rpx",transform:"translate(-50%,0)",width:"160rpx",height:"160rpx",background:"#fff"}},{type:"qrcode",text:"https://www.yun-live.com/",css:{left:"50%",top:"638rpx",transform:"translate(-50%,0)",width:"144rpx",height:"144rpx"}},{type:"text",text:"————  由云现场提供技术支持  ————",css:{left:"0",top:"819rpx",width:"100%",textAlign:"center",fontSize:"24rpx",color:"#E5F0F4",lineHeight:"33rpx"}}];break;case 3:this.posterObj.views=[{type:"image",src:"https://s.yun-live.com/images/20210201/524ab6a41fe8c7eb57b35df9a547d388.png",css:{left:"0",top:"0",width:"100%",height:"100%"}},{type:"image",src:"https://s.yun-live.com/images/20210201/c40e25e13d91b275b274ccea8576a0e0.png",css:{width:"128rpx",height:"50rpx",left:"542rpx",top:"0rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/eb694718fa6c7b90d60a2c250847a192.jpg",css:{left:"56rpx",top:"72rpx",borderRadius:"50%",width:"80rpx",height:"80rpx"}},{type:"text",text:"厦门吴彦祖",css:{fontSize:"28rpx",fontWeight:"bold",color:"#1D1D25",lineHeight:"28rpx",left:"160rpx",top:"80rpx"}},{type:"text",text:"邀请您一起扫码看直播",css:{fontSize:"24rpx",color:"#6CB37A",lineHeight:"24rpx",left:"160rpx",top:"121rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/eb694718fa6c7b90d60a2c250847a192.jpg",css:{left:"50%",top:"188rpx",transform:"translate(-50%,0)",width:"540rpx",height:"303rpx",borderRadius:"16rpx",border:"3rpx solid rgba(255,255,255,0.5)"}},{type:"text",text:"云现场 | 2020年 麓客城市 WO-LUNTEER创想礼·麓客共创之夜",css:{fontSize:"32rpx",color:"#1D1D25",fontWeight:"bold",lineHeight:"45rpx",left:"71rpx",top:"508rpx",width:"530rpx"}},{type:"view",css:{left:"50%",top:"630rpx",transform:"translate(-50%,0)",width:"160rpx",height:"160rpx",background:"#fff"}},{type:"qrcode",text:"https://www.yun-live.com/",css:{left:"50%",top:"638rpx",transform:"translate(-50%,0)",width:"144rpx",height:"144rpx"}},{type:"text",text:"————  由云现场提供技术支持  ————",css:{left:"0",top:"819rpx",width:"100%",textAlign:"center",fontSize:"24rpx",color:"#E5F0F4",lineHeight:"33rpx"}}];break;case 4:this.posterObj.background="linear-gradient(153deg, #EFF7FE 0%, #E6F0FA 100%)",this.posterObj.views=[{type:"image",src:"https://s.yun-live.com/images/20210201/9befed22f44df68a27044ca8a84a39b6.png",css:{left:"0",top:"0",width:"150rpx",height:"150rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/ac22a4d279076116e1e9bea7f5a325e1.png",css:{width:"128rpx",height:"50rpx",left:"542rpx",top:"0rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/eb694718fa6c7b90d60a2c250847a192.jpg",css:{left:"35rpx",top:"35rpx",borderRadius:"50%",width:"80rpx",height:"80rpx"}},{type:"text",text:"厦门吴彦祖",css:{fontSize:"28rpx",fontWeight:"bold",color:"#1D1D25",lineHeight:"28rpx",left:"152rpx",top:"40rpx"}},{type:"text",text:"邀请您一起扫码看直播",css:{fontSize:"24rpx",color:"#FF8931",lineHeight:"24rpx",left:"152rpx",top:"80rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/4afd6a85e7469ecb61c7377062c5f42c.png",css:{left:"0",top:"94rpx",width:"100%",height:"473rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/eb694718fa6c7b90d60a2c250847a192.jpg",css:{left:"50%",top:"167rpx",transform:"translate(-50%,0)",width:"580rpx",height:"326rpx",borderRadius:"16rpx"}},{type:"text",text:"云现场 | 2020年 麓客城市 WO-LUNTEER创想礼·麓客共创之夜",css:{fontSize:"32rpx",color:"#3F4770",fontWeight:"bold",lineHeight:"45rpx",left:"48rpx",top:"534rpx",width:"574rpx"}},{type:"image",src:"https://s.yun-live.com/images/20210201/583a28f485b9967d61b71d35ac652e29.png",css:{left:"50%",top:"634rpx",transform:"translate(-50%,0)",width:"218rpx",height:"218rpx"}},{type:"view",css:{left:"50%",top:"671rpx",transform:"translate(-50%,0)",width:"144rpx",height:"144rpx",background:"#fff"}},{type:"qrcode",text:"https://www.yun-live.com/",css:{left:"50%",top:"678rpx",transform:"translate(-50%,0)",width:"130rpx",height:"130rpx"}},{type:"text",text:"————  由云现场提供技术支持  ————",css:{left:"0",top:"859rpx",width:"100%",textAlign:"center",fontSize:"24rpx",color:"#A4ADC3",lineHeight:"33rpx"}}]}}}},[["render",function(i,r,o,p,c,d){const g=S("lPainter"),f=n,m=R,u=C,x=P(h("uni-popup"),F);return t(),e(f,{class:"page",style:{position:"relative"}},{default:s((()=>[c.show_poster?a("",!0):(t(),e(f,{key:0,class:"poster",style:{position:"relative"}},{default:s((()=>[l(g,{board:c.posterObj,ref:"painter"},null,8,["board"])])),_:1})),l(f,{class:"footer-btn",style:{position:"absolute",bottom:"-50px",padding:"10px 0px",width:"100%",left:"0",display:"flex"}},{default:s((()=>[l(f,{class:"save",style:{margin:"0 auto",padding:"10px","border-radius":"10px","background-color":"#F77913",border:"none"},onClick:d.toSave},{default:s((()=>[O(" 分享海报领积分 ")])),_:1},8,["onClick"]),l(f,{class:"save",style:{margin:"0 auto",padding:"10px","border-radius":"10px","background-color":"#ccc",border:"none"},onClick:d.handleShare},{default:s((()=>[O(" 返回 ")])),_:1},8,["onClick"])])),_:1}),l(x,{type:"center",ref:"posterImg",maskClick:!1},{default:s((()=>[l(f,{class:"poster-img"},{default:s((()=>[l(m,{onClick:d.closePopup},null,8,["onClick"]),l(u,{src:c.path,mode:"",onClick:d.previewImg},null,8,["src","onClick"]),l(f,{class:""},{default:s((()=>[O(" 长按图片保存到手机 ")])),_:1})])),_:1})])),_:1},512)])),_:1})}],["__scopeId","data-v-ad36d660"]]);export{Y as default};
